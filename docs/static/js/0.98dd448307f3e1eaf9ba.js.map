{"version":3,"sources":["webpack:///src/pages/home/index.vue","webpack:///./src/pages/home/index.vue?6f36","webpack:///./src/pages/home/index.vue"],"names":["home","name","data","imgSrc","url","marginTop","photoNum","infoList","flag","methods","loadImage","e","this","length","$refs","src","shift","calcUrl","num","scrollTop","document","documentElement","str","Math","floor","parseInt","split","push","handleScroll","console","log","mounted","window","addEventListener","clientHeight","pages_home","render","_h","$createElement","_c","_self","staticClass","attrs","id","ref","alt","on","load","_v","style","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"4HAUA,IAAAA,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,OAAA,+BACAC,IAAA,gBACAC,UAAA,QACAC,SAAA,EACAC,YACAC,MAAA,IAGAC,SAEAC,UAFA,SAEAC,GACAC,KAAAL,SAAAM,QACAD,KAAAE,MAAA,IACAC,IAAAH,KAAAL,SAAA,GACAK,KAAAL,SAAAS,QACAJ,KAAAJ,MAAA,GAEAI,KAAAJ,MAAA,GAIAS,QAbA,WAcA,IACAC,EADAC,EAAAC,SAAAC,gBAAAF,UAEAG,OAAA,GAEAJ,EAAAK,KAAAC,MAAAL,GAAAM,SAAAb,KAAAP,UAAAqB,MAAA,mBACAd,KAAAN,WACAM,KAAAN,SAAAY,EAEAI,EADAJ,EAAA,GACA,MAAAA,EACAA,EAAA,IACA,KAAAA,EAEA,IAAAA,EAEAN,KAAAL,SAAAoB,KAAAf,KAAAR,IAAA,UAAAkB,EAAA,UAGAM,aA/BA,SA+BAjB,GACAC,KAAAK,UACAY,QAAAC,IAAAnB,IACA,IAAAC,KAAAJ,MAAAI,KAAAF,cAGAqB,QAjDA,WAkDAC,OAAAC,iBAAA,SAAArB,KAAAgB,cAAA,GACAhB,KAAAP,UAAA,EAAAO,KAAAE,MAAA,MAAAoB,aAAA,OC1DeC,GADEC,OAFjB,WAA0B,IAAaC,EAAbzB,KAAa0B,eAA0BC,EAAvC3B,KAAuC4B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,OAAAC,OAA0BC,GAAA,UAAaJ,EAAA,OAAYK,IAAA,QAAAH,YAAA,UAAgCF,EAAA,OAAYK,IAAA,MAAAH,YAAA,MAAAC,OAAmC3B,IAAA,+BAAA8B,IAAA,IAA8CC,IAAKC,KAArQnC,KAAqQF,aAArQE,KAA2RoC,GAAA,KAAAT,EAAA,OAAwBE,YAAA,UAAAQ,OAA8B5C,UAAjVO,KAAiVP,kBAE1V6C,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErD,EACAmC,GATF,EAVA,SAAAmB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/0.98dd448307f3e1eaf9ba.js","sourcesContent":["<template>\n  <div class=\"home\" id=\"main\">\n    <div class=\"video\" ref=\"video\">\n      <img class=\"img\" ref=\"img\" src=\"/static/video/video_0001.jpg\" @load=\"loadImage\" alt=\"\">\n      <div class=\"wrapper\" :style=\"{'marginTop': marginTop}\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'index',\n  data () {\n    return {\n      imgSrc: `/static/video/video_0001.jpg`,\n      url: '/static/video',\n      marginTop: '500px', // 滚动条总距离\n      photoNum: 1, // 图片数缓存\n      infoList: [], // 渲染队列\n      flag: true// 开关\n    }\n  },\n  methods: {\n    // 图片渲染\n    loadImage (e) {\n      if (this.infoList.length) {\n        let video = this.$refs['img']\n        video.src = this.infoList[0]\n        this.infoList.shift()\n        this.flag = true\n      } else {\n        this.flag = false\n      }\n    },\n    // 队列添加\n    calcUrl () {\n      let scrollTop = document.documentElement.scrollTop\n      let num\n      let str\n      // 图片数\n      num = Math.floor(scrollTop / (parseInt(this.marginTop.split('px')[0]) / 190))\n      if (num !== this.photoNum) {\n        this.photoNum = num\n        if (num < 10) {\n          str = `000${num}`\n        } else if (num < 100) {\n          str = `00${num}`\n        } else {\n          str = `0${num}`\n        }\n        this.infoList.push(`${this.url}/video_${str}.jpg`)\n      }\n    },\n    handleScroll (e) {\n      this.calcUrl()\n      console.log(e)\n      this.flag === false ? this.loadImage() : ''\n    }\n  },\n  mounted () {\n    window.addEventListener('scroll', this.handleScroll, true)\n    this.marginTop = this.$refs['video'].clientHeight * 3 + 'px'\n  }\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .video{\n    height: 100%;\n    >img{\n     width: 100%;\n      height: 100%;\n      position: fixed;\n      left: 0;\n      z-index: 0;\n      top: 0px;\n    }\n  }\n  .wrapper{\n    height: 1px;\n    background: #d2b8b800;\n    z-index: 900;\n    position: relative;\n    padding-top: 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/home/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\",attrs:{\"id\":\"main\"}},[_c('div',{ref:\"video\",staticClass:\"video\"},[_c('img',{ref:\"img\",staticClass:\"img\",attrs:{\"src\":\"/static/video/video_0001.jpg\",\"alt\":\"\"},on:{\"load\":_vm.loadImage}}),_vm._v(\" \"),_c('div',{staticClass:\"wrapper\",style:({'marginTop': _vm.marginTop})})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5c2e692e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5c2e692e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5c2e692e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5c2e692e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}